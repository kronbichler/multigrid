MACRO(PICKUP_BENCHMARK FILE_NAME)

    get_filename_component(TARGET_NAME ${CMAKE_CURRENT_SOURCE_DIR} NAME)

    ADD_EXECUTABLE(${TARGET_NAME} ${FILE_NAME})
    DEAL_II_SETUP_TARGET(${TARGET_NAME})
    set_target_properties(${TARGET_NAME} PROPERTIES OUTPUT_NAME bench)
    TARGET_LINK_LIBRARIES(${TARGET_NAME} multigrid)

    FIND_LIBRARY(LIKWID likwid HINTS $ENV{LIKWID_LIB})

    IF(LIKWID)
      TARGET_COMPILE_DEFINITIONS(${TARGET_NAME} PUBLIC LIKWID_PERFMON)
      TARGET_INCLUDE_DIRECTORIES(${TARGET_NAME} PUBLIC $ENV{LIKWID_INCLUDE})
      TARGET_LINK_LIBRARIES(${TARGET_NAME} ${LIKWID})
    ENDIF() 

ENDMACRO(PICKUP_BENCHMARK)
